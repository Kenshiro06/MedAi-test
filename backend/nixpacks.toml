# Nixpacks configuration for Railway deployment
# Fixed to resolve "No module named pip" error and add system dependencies

[variables]
PYTHON_VERSION = "3.10"
NIXPACKS_PYTHON_VERSION = "3.10"

[phases.setup]

nixPkgs = [
    "python310",
    "python310Packages.pip",
    "python310Packages.setuptools",
    "gcc",
    "libGL",
    "libGLU",
    "glib",
    "zlib"
]

[phases.install]
cmds = [
    "pip install --upgrade pip",
    "pip install -r requirements.txt"
]

[start]
cmd = "python3 malaria_api_gradcam.py"

